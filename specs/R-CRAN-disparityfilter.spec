%global packname  disparityfilter
%global packver   2.2.3
%global rlibdir   /usr/local/lib/R/library

Name:             R-CRAN-%{packname}
Version:          2.2.3
Release:          1%{?dist}
Summary:          Disparity Filter Algorithm for Weighted Networks

License:          GPL (>= 2)
URL:              https://cran.r-project.org/package=%{packname}
Source0:          %{url}&version=%{packver}#/%{packname}_%{packver}.tar.gz


BuildRequires:    R-devel >= 3.1.1
Requires:         R-core >= 3.1.1
BuildArch:        noarch
BuildRequires:    R-CRAN-igraph >= 1.0.0
Requires:         R-CRAN-igraph >= 1.0.0

%description
The disparity filter algorithm is a network reduction technique to
identify the 'backbone' structure of a weighted network without destroying
its multi-scale nature. The algorithm is documented in M. Angeles Serrano,
Marian Boguna and Alessandro Vespignani in "Extracting the multiscale
backbone of complex weighted networks", Proceedings of the National
Academy of Sciences 106 (16), 2009. This implementation of the algorithm
supports both directed and undirected networks.

%prep
%setup -q -c -n %{packname}


%build

%install

mkdir -p %{buildroot}%{rlibdir}
%{_bindir}/R CMD INSTALL -l %{buildroot}%{rlibdir} %{packname}
test -d %{packname}/src && (cd %{packname}/src; rm -f *.o *.so)
rm -f %{buildroot}%{rlibdir}/R.css

%files
%dir %{rlibdir}/%{packname}
%doc %{rlibdir}/%{packname}/html
%{rlibdir}/%{packname}/Meta
%{rlibdir}/%{packname}/help
%{rlibdir}/%{packname}/DESCRIPTION
%{rlibdir}/%{packname}/NAMESPACE
%{rlibdir}/%{packname}/R
%{rlibdir}/%{packname}/INDEX
