%global packname  lassopv
%global packver   0.2.0
%global rlibdir   /usr/local/lib/R/library

Name:             R-CRAN-%{packname}
Version:          0.2.0
Release:          2%{?dist}
Summary:          Nonparametric P-Value Estimation for Predictors in Lasso

License:          GPL-3
URL:              https://cran.r-project.org/package=%{packname}
Source0:          %{url}&version=%{packver}#/%{packname}_%{packver}.tar.gz


BuildRequires:    R-devel >= 2.10
Requires:         R-core >= 2.10
BuildArch:        noarch
BuildRequires:    R-CRAN-lars 
BuildRequires:    R-stats 
Requires:         R-CRAN-lars 
Requires:         R-stats 

%description
Estimate the p-values for predictors x against target variable y in lasso
regression, using the regularization strength when each predictor enters
the active set of regularization path for the first time as the statistic.
This is based on the assumption that predictors (of the same variance)
that (first) become active earlier tend to be more significant. Three null
distributions are supported: normal and spherical, which are computed
separately for each predictor and analytically under approximation, which
aims at efficiency and accuracy for small p-values.

%prep
%setup -q -c -n %{packname}


%build

%install

mkdir -p %{buildroot}%{rlibdir}
%{_bindir}/R CMD INSTALL -l %{buildroot}%{rlibdir} %{packname}
test -d %{packname}/src && (cd %{packname}/src; rm -f *.o *.so)
rm -f %{buildroot}%{rlibdir}/R.css

%files
%dir %{rlibdir}/%{packname}
%doc %{rlibdir}/%{packname}/html
%{rlibdir}/%{packname}/Meta
%{rlibdir}/%{packname}/help
%{rlibdir}/%{packname}/DESCRIPTION
%{rlibdir}/%{packname}/NAMESPACE
%{rlibdir}/%{packname}/R
%{rlibdir}/%{packname}/INDEX
