%global packname  Rspc
%global packver   1.2.2
%global rlibdir   /usr/local/lib/R/library

Name:             R-CRAN-%{packname}
Version:          1.2.2
Release:          3%{?dist}%{?buildtag}
Summary:          Nelson Rules for Control Charts

License:          GPL-3
URL:              https://cran.r-project.org/package=%{packname}
Source0:          %{url}&version=%{packver}#/%{packname}_%{packver}.tar.gz


BuildRequires:    R-devel >= 3.1.0
Requires:         R-core >= 3.1.0
BuildArch:        noarch

%description
Implementation of Nelson rules for control charts in 'R'. The 'Rspc'
implements some Statistical Process Control methods, namely Levey-Jennings
type of I (individuals) chart, Shewhart C (count) chart and Nelson rules
(as described in Montgomery, D. C. (2013) Introduction to statistical
quality control. Hoboken, NJ: Wiley.). Typical workflow is taking the time
series, specify the control limits, and list of Nelson rules you want to
evaluate. There are several options how to modify the rules (one sided
limits, numerical parameters of rules, etc.). Package is also capable of
calculating the control limits from the data (so far only for i-chart and
c-chart are implemented).

%prep
%setup -q -c -n %{packname}


%build

%install

mkdir -p %{buildroot}%{rlibdir}
%{_bindir}/R CMD INSTALL -l %{buildroot}%{rlibdir} %{packname}

test -d %{packname}/src && (cd %{packname}/src; rm -f *.o *.so)
rm -f %{buildroot}%{rlibdir}/R.css

%files
%dir %{rlibdir}/%{packname}
%doc %{rlibdir}/%{packname}/html
%{rlibdir}/%{packname}/Meta
%{rlibdir}/%{packname}/help
%{rlibdir}/%{packname}/DESCRIPTION
%{rlibdir}/%{packname}/NAMESPACE
%doc %{rlibdir}/%{packname}/NEWS.md
%{rlibdir}/%{packname}/R
%doc %{rlibdir}/%{packname}/doc
%{rlibdir}/%{packname}/INDEX
